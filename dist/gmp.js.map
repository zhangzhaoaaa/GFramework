{"version":3,"file":null,"sources":["../src/jsframework/core/internal/init.js","../src/jsframework/core/utils/utils.js","../src/jsframework/core/internal/events.js","../src/jsframework/core/internal/state.js","../src/jsframework/core/events/eventbus.js","../src/jsframework/core/data/data.js","../src/jsframework/core/inherits/extend.js","../src/jsframework/core/template/template.js","../src/jsframework/core/gmp.js","../src/uiframework/base/Class.js","../src/uiframework/widgets/button/button.js","../src/uiframework/widgets/dialog/index.js","../src/uiframework/widgets/dialog/alert/alert.js","../src/uiframework/widgets/dialog/confirm/confirm.js","../src/uiframework/widgets/dialog/modal/modal.js","../src/uiframework/widgets/position/position.js","../src/uiframework/widgets/overlay/overlay.js","../src/uiframework/index.js","../src/index.js"],"sourcesContent":["/**\n * Created by zhangmike on 16/10/17.\n */\nlet uid = 0;\n// let viewOptions = ['data', 'el', 'events', 'methods', 'init', 'render'];\nexport default function initMixin(GMP) {\n    /**\n     * The main init sequence. This is called for every\n     * instance, including ones that are created from extended\n     * constructors.\n     *\n     * @param {Object} options - this options object should be\n     *                           the result of merging class\n     *                           options and the options passed\n     *                           in to the constructor.\n     */\n    GMP._assignPros({\n        _init(options) {\n            options = options || {};\n\n            this._uid = 'g' + (uid++);\n\n            Object.assign(this, options);\n\n            this.el = this.el || 'body';\n\n            this._eventsMapList = {};\n\n            // 初始化data\n            this._initState();\n\n            // 初始化事件\n            this._initEvents();\n\n            // 初始化Els\n            this._initEls();\n\n            this._callHook('init');\n\n            // 扫描模板结构\n        }\n    });\n}\n","/**\n * Created by zhangmike on 16/10/19.\n */\nlet ObjProto = Object.prototype;\nfunction isType(type) {\n    return function(obj) {\n        return ObjProto.toString.call(obj) === '[object ' + type + ']';\n    };\n}\n\nexport default {\n    isFunction(name) {\n        return isType('Function')(name);\n    },\n    isObject(name) {\n        return isType('Object')(name);\n    },\n    has(obj, key) {\n        return obj != null && ObjProto.hasOwnProperty.call(obj, key);\n    },\n    create(proto, props) {\n        if (this.isObject(props)) {\n            Object.keys(props).forEach(key => {\n                proto[key] = props[key];\n            });\n        }\n        return proto;\n    },\n    defaults(to, from) {\n        let fromAttrs = Object.keys(from);\n        fromAttrs.forEach(current => {\n            if (!to[current] || to[current] === void 0) {\n                to[current] = from[current];\n            }\n        });\n        return to;\n    },\n    mergeData(to, from) {\n        let key, toVal, fromVal;\n        for (key in from) {\n            toVal = to[key];\n            fromVal = from[key];\n            if (!Object.hasOwnProperty(to, key)) {\n                Object.defineProperty(to, key, {\n                    enumerable: true,\n                    configurable: true,\n                    writable: true,\n                    value: fromVal\n                });\n            } else if (this.isObject(toVal) && this.isObject(fromVal)) {\n                this.mergeData(toVal, fromVal);\n            }\n        }\n    },\n    equal(a, b, aStack, bStack) {\n        if (a === b) {\n            return a !== 0 || 1 / a === 1 / b;\n        }\n        if (a == null || b == null) {\n            return a === b;\n        }\n        var toString = ObjProto.toString;\n        var className = toString.call(a);\n        if (className !== toString.call(b)) {\n            return false;\n        }\n        switch (className) {\n        case '[object RegExp]':\n        case '[object String]':\n            return '' + a === '' + b;\n        case '[object Number]':\n            if (+a !== +a) return +b !== +b;\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n        case '[object Date]':\n        case '[object Boolean]':\n            return +a === +b;\n        }\n        var areArrays = className === '[object Array]';\n        if (!areArrays) {\n            if (typeof a != 'object' || typeof b != 'object') {\n                return false;\n            }\n            var aCtor = a.constructor;\n            var bCtor = b.constructor;\n            if (aCtor !== bCtor && !(this.isFunction(aCtor) && aCtor instanceof aCtor &&\n                this.isFunction(bCtor) && bCtor instanceof bCtor) &&\n                ('constructor' in a && 'constructor' in b)) {\n                return false;\n            }\n        }\n        aStack = aStack || [];\n        bStack = bStack || [];\n        var length = aStack.length;\n        while (length--) {\n            if (aStack[length] === a) {\n                return bStack[length] === b;\n            }\n        }\n\n        aStack.push(a);\n        bStack.push(b);\n\n        if (areArrays) {\n            length = a.length;\n            if (length !== b.length) {\n                return false;\n            }\n            while (length--) {\n                if (!this.equal(a[length], b[length], aStack, bStack)) {\n                    return false;\n                }\n            }\n        } else {\n            var key;\n            var keys = Object.keys(a);\n            length = keys.length;\n            if (Object.keys(b).length !== length) {\n                return false;\n            }\n            while (length--) {\n                key = keys[length];\n                if (!(this.has(b, key) && this.equal(a[key], b[key], aStack, bStack))) {\n                    return false;\n                }\n            }\n        }\n        aStack.pop();\n        bStack.pop();\n        return true;\n    }\n};\n","/**\n * Created by zhangmike on 16/10/17.\n */\nimport utils from '../utils/utils';\n\nlet delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\nexport default function eventsMixin(GMP) {\n    /**\n     * Setup the instance's option events.\n     * If the value is a string, we pull it from the\n     * instance's methods by name.\n     */\n    GMP._assignPros({\n        _initEvents() {\n            registerCallbacks(this, this.events);\n        },\n        undelegateEvents() {\n            if (this.$el) {\n                this.$el.off('.delegateEvents' + this._uid);\n            }\n            return this;\n        },\n        delegateEvents(events) {\n            events || (events = this.events);\n            if (!events) {\n                return this;\n            }\n            this.undelegateEvents();\n            for (var key in events) {\n                if (events.hasOwnProperty(key)) {\n                    var method = events[key];\n                    if (!utils.isFunction(method)) {\n                        method = this[method];\n                    }\n                    if (!method) {\n                        continue;\n                    }\n                    var match = key.match(delegateEventSplitter);\n                    this.delegate(match[1], match[2], method.bind(this));\n                }\n            }\n            return this;\n        },\n        undelegate: function(eventName, selector, listener) {\n            this.$el.off(eventName + '.delegateEvents' + this._uid, selector, listener);\n            return this;\n        },\n        delegate(eventName, selector, listener) {\n            this.$el.on(eventName + '.delegateEvents' + this._uid, selector, listener);\n            return this;\n        },\n        _setElement(el) {\n            this.$el = el instanceof GMP.$() ? el : GMP.$()(el);\n            this.el = this.$el[0];\n        },\n        _callHook(hook) {\n            var handlers = this[hook];\n            if (hook && handlers) {\n                handlers.call(this);\n            }\n        },\n        on(name, cb) {\n            let evn = this._uid + name;\n            if (this._eventsMapList[evn]) {\n                this._eventsMapList[evn].push(cb);\n            } else {\n                this._eventsMapList[evn] = [cb];\n            }\n        },\n        off(name) {\n            let evn = this._uid + name;\n            if (this._eventsMapList[evn]) {\n                this._eventsMapList[evn] = [];\n            }\n        },\n        trigger(name, args) {\n            let evn = this._uid + name;\n            var cbs = this._eventsMapList[evn];\n            if (cbs) {\n                cbs.forEach((fn) => {\n                    fn.apply(this, [args]);\n                });\n            }\n        },\n        destroy() {\n            this.undelegateEvents();\n            this.$el.empty();\n        }\n    });\n}\n\nfunction registerCallbacks(vm, events) {\n    vm.undelegateEvents();\n    vm._setElement(vm.el);\n    vm.delegateEvents(events);\n    return vm;\n}\n","/**\n * Created by zhangmike on 16/10/18.\n */\nimport util from '../utils/utils';\nexport default function initState(GMP) {\n    /**\n     * Setup the scope of an instance, which contains:\n     * - observed data\n     */\n    GMP._assignPros({\n        _initState() {\n            this._initData();\n        },\n        _initData() {\n            this._data = this.data || {};\n            var keys = Object.keys(this._data);\n            var that = this;\n            for (var i = 0, l = keys.length; i < l; i++) {\n                let key = keys[i];\n                let val = this._data[keys[i]];\n                var property = Object.getOwnPropertyDescriptor(this._data, key);\n                if (property && property.configurable === false) {\n                    continue;\n                }\n                Object.defineProperty(that._data, key, {\n                    enumerable: true,\n                    configurable: true,\n                    get: function reactiveGetter() {\n                        return val;\n                    },\n                    set: function reactiveSetter(newVal) {\n                        var value = val;\n                        if (util.equal(newVal, value)) {\n                            return;\n                        } else {\n                            val = newVal;\n                            that.trigger('change:' + key);\n                        }\n                    }\n                });\n            }\n        },\n        _initEls() {\n            if (this.els) {\n                Object.keys(this.els).forEach(current => {\n                    this.els[current] = this.els[current] instanceof GMP.$() ? this.els[current] : GMP.$()(this.els[current]);\n                });\n            }\n        }\n    });\n}\n","/**\n * Created by zhangmike on 16/10/18.\n */\nexport default function initEventBus (GMP) {\n    let events = {};\n    let registerEvent = function (eName, handler, scope) {\n        events[eName] = events[eName] || [];\n        events[eName].push({\n            scope: scope || this,\n            handler: handler\n        });\n    };\n    let removeEvent = function (eName, callback, scope) {\n        var fns = events[eName];\n        scope = scope || this;\n        if (!fns) {\n            return;\n        }\n        events[eName] = events[eName].filter(function (fn) {\n            if (callback && callback !== fn.callback ||\n                scope && scope !== fn.scope\n            ) {\n                return true;\n            } else {\n                return false;\n            }\n        });\n    };\n    let triggerEvent = function (eventName, ...params) {\n        var fns = events[eventName];\n        var i, fn, len;\n        if (!fns) {\n            return;\n        }\n        for (i = 0, len = fns.length; i < len; i++) {\n            fn = fns[i];\n            fn.handler.apply(fn.scope, params || []);\n        }\n    };\n    GMP.GMPEvents = {\n        on: registerEvent,\n        off: removeEvent,\n        trigger: triggerEvent,\n        _events: events\n    };\n}\n","/**\n * Created by zhangmike on 16/10/18.\n */\nexport default class GMPX {\n    constructor (state) {\n        this._init(state);\n    }\n    _init (state) {\n        if (!state) {\n            return Object.create(null);\n        }\n        var keys = Object.keys(state);\n        this.state = state;\n        var that = this;\n        for (var i = 0, l = keys.length; i < l; i++) {\n            let key = keys[i];\n            let val = this.state[keys[i]];\n            var property = Object.getOwnPropertyDescriptor(this.state, key);\n            if (property && property.configurable === false) {\n                continue;\n            }\n            Object.defineProperty(that.state, key, {\n                enumerable: true,\n                configurable: true,\n                get: function reactiveGetter () {\n                    return val;\n                },\n                set: function reactiveSetter (newVal) {\n                    var value = val;\n                    if (newVal === value) {\n                        return;\n                    }\n                    val = newVal;\n                }\n            });\n        }\n    }\n}\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport utils from '../utils/utils';\n\nexport default function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    if (protoProps && utils.has(protoProps, 'constructor')) {\n        child = protoProps.constructor;\n    } else {\n        child = function() { return parent.apply(this, arguments); };\n    }\n\n    Object.assign(child, parent, staticProps);\n\n    child.prototype = utils.create(parent.prototype, protoProps);\n    child.prototype.constructor = child;\n\n    child.__super__ = parent.prototype;\n\n    return child;\n}\n","/**\n * Created by zhangmike on 16/10/25.\n */\nvar _t = {};\nvar escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#x27;',\n    '`': '&#x60;'\n};\n\nvar createEscaper = function(map) {\n    var escaper = function(match) {\n        return map[match];\n    };\n    var source = '(?:' + Object.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n        string = string == null ? '' : '' + string;\n        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n};\n_t.escape = createEscaper(escapeMap);\n\nvar templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n};\n\nvar noMatch = /(.)^/;\n\nvar escapes = {\n    '\\'': '\\'',\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n};\n\nvar escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nvar escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n};\nvar htmlTag = /<[^>]+>/g;\nvar text = '';\nexport default function template(str) {\n    if (htmlTag.test(str)) {\n        text = str;\n    } else {\n        text = document.getElementById(str).innerHTML || '';\n    }\n    var matcher = RegExp([\n        (templateSettings.escape || noMatch).source,\n        (templateSettings.interpolate || noMatch).source,\n        (templateSettings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    var index = 0;\n    var source = '__p+=\\'';\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n        source += text.slice(index, offset).replace(escaper, escapeChar);\n        index = offset + match.length;\n\n        if (escape) {\n            source += '\\'+\\n((__t=(' + escape + '))==null?\\'\\':_t.escape(__t))+\\n\\'';\n        } else if (interpolate) {\n            source += '\\'+\\n((__t=(' + interpolate + '))==null?\\'\\':__t)+\\n\\'';\n        } else if (evaluate) {\n            source += '\\';\\n' + evaluate + '\\n__p+=\\'';\n        }\n\n        return match;\n    });\n    source += '\\';\\n';\n\n    source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = 'var __t,__p=\\'\\',__j=Array.prototype.join,' +\n        'print=function(){__p+=__j.call(arguments,\\'\\');};\\n' +\n        source + 'return __p;\\n';\n\n    try {\n        var render = new Function('obj', source);\n    } catch (e) {\n        e.source = source;\n        throw e;\n    }\n\n    var template = function(data) {\n        return render.call(this, data);\n    };\n\n    var argument = 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n    return template;\n}","/**\n * Created by zhangmike on 16/10/14.\n */\n/* global $ */\nimport initMixin from './internal/init';\nimport initEvents from './internal/events';\nimport initState from './internal/state';\nimport initEventBus from './events/eventbus';\nimport gmpx from './data/data';\nimport extend from './inherits/extend';\nimport template from './template/template';\n/**\n * The exposed GMP constructor.\n *\n * @constructor\n * @param {Object} [options]\n * @public\n * @example\n * new GMP({\n *  data: '123',\n *   login: function () {\n *\n *   }\n * })\n */\nclass GMP {\n    constructor(options) {\n        this._init(options);\n    }\n    static $() {\n        if (window.jQuery || window.$ || $) {\n            return window.jQuery || window.$ || $;\n        }\n        throw new Error('GMP need jQuery or Zepto in window scope named $');\n    }\n    static _assignPros(pros) {\n        Object.assign(GMP.prototype, pros);\n    }\n}\n\n// 初始化属性\ninitMixin(GMP);\n// 初始化事件\ninitEvents(GMP);\n// 初始化数据\ninitState(GMP);\n// 初始化事件BUS\ninitEventBus(GMP);\n\nGMP.GMPX = gmpx;\nGMP.extend = extend;\nGMP.template = template;\nexport default GMP;\n","/**\n * Created by zhangmike on 16/10/20.\n */\n/* global $ */\nimport GMP from '../../jsframework/index';\nimport utils from '../../jsframework/core/utils/utils';\n\nclass BaseClass extends GMP {\n    constructor(options) {\n        let init = !!options.init === true ? options.init : null;\n        if (options.init) {\n            delete options.init;\n        }\n        super(options);\n        init != null ? this.on('_on_init', init) : '';\n        this.on('_on_after', this._after);\n    }\n    _after(options) {\n        if (options) {\n            this._create();\n        } else {\n            throw new Error('请正确填写属性!');\n        }\n        this.trigger('_on_init');\n    }\n    _create(html) {\n        if (!this.data) {\n            this.$el.html(GMP.template(html)());\n        } else {\n            this.$el.html(GMP.template(html)(this.data));\n        }\n    }\n    _appendTo(el) {\n        let element = el;\n        if (element && (element.jquery || element.nodeType)) {\n            return $(element)[0];\n        }\n        return document.querySelector(element || 'body');\n    }\n    set(attrName, val) {\n        var oldval = this.data[attrName];\n        this.data[attrName] = val;\n        var setCb = this['_on_' + attrName + 'Update'];\n        if (utils.isFunction(setCb)) setCb.call(this, val, oldval);\n    }\n    get(attrName) {\n        return this.data[attrName];\n    }\n    static inherits(protoProps, staticProps) {\n        let parent = this;\n        let child;\n\n        if (protoProps && utils.has(protoProps, 'constructor')) {\n            child = protoProps.constructor;\n        } else {\n            child = function() {\n                return parent.apply(this, arguments);\n            };\n        }\n\n        Object.assign(child, parent, staticProps);\n\n        child.prototype = utils.create(parent.prototype, protoProps);\n        child.prototype.constructor = child;\n\n        child.__super__ = parent.prototype;\n\n        return child;\n    }\n}\n\nexport default BaseClass;\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport html from './button.html';\nimport BaseClass from '../../base/Class';\nclass Button extends BaseClass {\n    constructor(options) {\n        super(options);\n        super._create(html);\n    }\n    preinit() {\n        console.log('preinit....');\n    }\n    enable() {\n        this.$el.find('[role=button]').attr('aria-disabled', false).removeAttr('disabled');\n    }\n    disable() {\n        this.$el.find('[role=button]').attr('aria-disabled', true).attr('disabled', true);\n    }\n};\n\nexport default Button;\n","/**\n * Created by zhangmike on 16/11/2.\n */\nimport utils from '../../../jsframework/core/utils/utils';\nexport default function preInit(options = {}, config = {}) {\n    let d = {\n        'click .okBtn': 'ok',\n        'click .cancelBtn': 'cancel'\n    };\n    if (!options.events) {\n        options.events = d;\n    } else {\n        utils.defaults(options.events, d);\n    }\n    if (!options.data) {\n        options.data = config;\n    } else {\n        utils.defaults(options.data, config);\n    }\n}","/**\n * Created by zhangmike on 16/10/28.\n */\n/* global $, GMP */\nimport html from './alert.html';\nimport BaseClass from '../../../base/Class';\nimport preInit from '../index';\n\nclass Alert extends BaseClass {\n    constructor(options) {\n        preInit(options);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create() {\n        this._createWrapper();\n        let alertHtml = GMP.template(html)(this.data);\n        this.uiAlert.append(alertHtml);\n    }\n    _createWrapper() {\n        this.uiAlert = $('<div>').hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    open() {\n        this.uiAlert.show();\n    }\n    ok() {\n        this.$el.hide();\n    }\n    cancel() {\n        this.$el.hide();\n    }\n};\n\nexport default Alert;\n","/**\n * Created by zhangmike on 16/10/29.\n */\n/* global $, GMP */\nimport html from './confirm.html';\nimport BaseClass from '../../../base/Class';\nimport preInit from '../index';\n\nclass Confirm extends BaseClass {\n    constructor(options) {\n        preInit(options);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create() {\n        this._createWrapper();\n        let confirmHtml = GMP.template(html)(this.data);\n        this.uiConfirm.append(confirmHtml);\n    }\n    _createWrapper() {\n        this.uiConfirm = $('<div>').hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    open() {\n        this.uiConfirm.show();\n    }\n    ok() {\n        this.uiConfirm.hide();\n    }\n    cancel() {\n        this.uiConfirm.hide();\n    }\n};\n\nexport default Confirm;\n","/**\n * Created by zhangmike on 16/10/29.\n */\n/* global $, GMP */\nimport BaseClass from '../../../base/Class';\nimport preInit from '../index';\nconst config = {\n    title: '标题'\n};\nconst tmpl = {\n    layer: '<div class=\"layer\"></div>',\n    header: '<h2 class=\"dialog-header\"><%=title%></h2>',\n    footer: '<div class=\"dialog-footer\">' +\n    '<a href=\"javascript: void 0;\" role=\"button\" class=\"okBtn\" aria-controls=\"ok\">确定</a>' +\n    '<a href=\"javascript: void 0;\" role=\"button\" class=\"cancelBtn\" aria-controls=\"cancel\">取消</a>' +\n    '</div>'\n};\nconst htmlTag = /<[^>]+>/g;\n\nclass Modal extends BaseClass {\n\n    constructor(options) {\n        preInit(options, config);\n        super(options);\n        this.trigger('_on_after', options);\n    }\n    _create(options) {\n        this._createWrapper();\n        let header,\n            content,\n            footer,\n            data = this.data;\n        if (data.header) {\n            if (htmlTag.test(data.header)) {\n                header = data.header;\n            } else {\n                header = $(data.header).html();\n            }\n        } else {\n            header = tmpl.header;\n        }\n        if (data.content) {\n            if (htmlTag.test(data.content)) {\n                content = data.content;\n            } else {\n                content = $(data.content).html();\n            }\n        } else {\n            content = tmpl.content || '<p style=\"text-align: center\">正文</p>';\n        }\n        if (data.footer) {\n            if (htmlTag.test(data.footer)) {\n                footer = data.footer;\n            } else {\n                footer = $(data.footer).html();\n            }\n        } else {\n            footer = tmpl.footer;\n        }\n        let dialog = header + content + footer;\n        $(dialog).show()\n            .removeAttr('title')\n            .appendTo(this.uiDialog);\n        let dialogHtml = GMP.template(dialog)(this.data);\n        this.uiDialog.html(dialogHtml);\n    }\n    _createWrapper() {\n        this.uiDialog = $('<div>').addClass('dialog')\n            .hide()\n            .attr({\n                tabIndex: -1,\n                role: 'dialog'\n            })\n            .appendTo(this._appendTo(this.el));\n    }\n    _createOverLay() {\n        this.overlay = $(tmpl.layer)\n            .appendTo(this._appendTo(this.el));\n    }\n    _destroyOverLay() {\n        this.overlay.remove();\n    }\n    ok() {\n        this.close();\n    }\n    cancel() {\n        this.close();\n    }\n    open() {\n        if (this.uiDialog) {\n            this._createOverLay();\n            this.uiDialog.show();\n        }\n    }\n    close() {\n        this._destroyOverLay();\n        this.uiDialog.hide();\n    }\n    destory() {\n        this.uiDialog.remove();\n    }\n\n};\n\nexport default Modal;\n","/**\n * @author fuqiang[designsor@gmail.com]\n * @date 20161031\n * @fileoverview postion base\n */\n/* global $ */\nfunction convertXYtoNum(x, element, type, isVIEWPORT) {\n    // 先转成字符串再说！好处理\n    x = x + '';\n\n    // 处理 px\n    x = x.replace(/px/gi, '');\n\n    // 将百分比转为像素值\n    if (x.indexOf('%') !== -1) {\n        // 支持小数\n        x = x.replace(/(\\d+(?:\\.\\d+)?)%/gi, function(m, d) {\n            return (isVIEWPORT ? $(window)['outer' + type]() : $(element)['outer' + type]()) * (d / 100.0);\n        });\n    }\n\n    // 处理类似 100%+20px 的情况\n    if (/[+\\-*\\/]/.test(x)) {\n        try {\n            // eval 会影响压缩\n            // new Function 方法效率高于 for 循环拆字符串的方法\n            // 参照：http://jsperf.com/eval-newfunction-for\n            x = (new Function('return ' + x))();\n        } catch (e) {\n            throw new Error('Invalid position value: ' + x);\n        }\n    }\n\n    // 转回为数字\n    return numberize(x);\n}\n\nfunction numberize(s) {\n    return parseFloat(s, 10) || 0;\n}\n\nvar Position = {\n    pin(element, offset, base) {\n        var isVIEWPORT = !base;\n        element = $(element);\n        base = base ? $(base) : $(window);\n        element.css('position', 'absolute');\n        offset = {\n            x: convertXYtoNum(offset.x, element, 'Width', isVIEWPORT),\n            y: convertXYtoNum(offset.y, element, 'Height', isVIEWPORT)\n        };\n        // 相对于可是窗口对齐（默认）\n        if (isVIEWPORT) {\n            element.offset({\n                left: offset.x,\n                top: offset.y\n            });\n        } else {\n            element.offset({\n                left: base.offset().left + offset.x,\n                top: base.offset().top + offset.y\n            });\n        }\n    },\n    centerInWindow(element) {\n        this.pin(element, {\n            x: '50%-' + ($(element).width() / 2),\n            y: '50%-' + ($(element).height() / 2)\n        });\n    }\n};\n\nexport default Position;\n","/**\n * @author fuqiang [designsor@gmail.com]\n * @date 20161031\n * @fileoverview 浮层统一类\n */\n/* global $ */\nimport GMP from '../../../jsframework/index';\nimport Position from '../position/position';\nimport BaseClass from '../../base/Class';\n\nclass Overlay extends BaseClass {\n    /*\n    constructor(options = {\n        data:{\n            width: null,\n            height: null,\n            zIndex: 999,\n            visible: false,\n            x: 0,\n            y: 0,\n            clsName:'',\n        }\n    }) {\n    */\n    constructor(options) {\n        super(options);\n        this.setup();\n        this._create(GMP.template('<div style=\"z-index:<%=zIndex%>;width:<%=width%>px;height:<%=height%>px;\" class=\"<%=clsName%>\"></div>')(options.data));\n    }\n    _create(html) {\n        this.uiOverlay = $(html);\n        $('body').append(this.uiOverlay);\n        this.trigger('create');\n    }\n    show() {\n        this.set('visible', true);\n        this.trigger('show');\n        return this;\n    }\n    hide() {\n        this.set('visible', false);\n        this.trigger('hide');\n        return this;\n    }\n    setup() {\n        // 不需要加shim，因为不兼容ie6\n        this._setupResize();\n        this.on('create', () => {\n            console.log('create');\n            var pos = this.uiOverlay.css('position');\n            if (pos === 'static' || pos === 'relative') {\n                this.uiOverlay.css({\n                    position: 'absolute',\n                    left: '-9999px',\n                    top: '-9999px'\n                });\n            }\n        });\n        this.on('show', () => {\n            console.log('show');\n            this._setPosition();\n        });\n    }\n    _setupResize() {\n        Overlay.allOverlays.push(this);\n    }\n    _setPosition() {\n        // 不在文档流不需要对齐\n        if (!isInDocument(this.uiOverlay[0])) return;\n        var align = {\n            x: this.data.x,\n            y: this.data.y\n        };\n        // 都是0不需要对齐\n        if (!align.x && !align.y) return;\n        var isHidden = this.uiOverlay.css('display') === 'none';\n\n        // 在定位时，为避免元素高度不定，先显示出来\n        if (isHidden) {\n            this.uiOverlay.css({\n                visibility: 'hidden',\n                display: 'block'\n            });\n        }\n        Position.pin(this.uiOverlay, align, this.data.alignBase);\n        // 定位完成后，还原\n        if (isHidden) {\n            this.uiOverlay.css({\n                visibility: '',\n                display: 'none'\n            });\n        }\n        return this;\n    }\n    _blurHide(...arr) {\n        arr.push(this.uiOverlay);\n        this._relativeElements = arr;\n        Overlay.blurOverlays.push(this);\n    }\n    destroy() {\n        Overlay.allOverlays = Overlay.allOverlays.filter((item) => {\n            return this !== item;\n        });\n        Overlay.blurOverlays = Overlay.blurOverlays.filter((item) => {\n            return this !== item;\n        });\n        if (super.destory) super.destroy.call(this);\n    }\n    // 用于 set 属性后的界面更新\n    _on_widthUpdate(val) {\n        this.uiOverlay.css('width', val);\n    }\n    _on_heightUpdate(val) {\n        this.uiOverlay.css('height', val);\n    }\n    _on_zIndexUpdate(val) {\n        this.uiOverlay.css('zIndex', val);\n    }\n    _on_visibleUpdate(val) {\n        this.uiOverlay[val ? 'show' : 'hide']();\n    }\n}\n\nOverlay.allOverlays = [];\nOverlay.blurOverlays = [];\n\n$(document).on('click', (e) => {\n    hideBlurOverlays(e);\n});\n\nfunction isInDocument(element) {\n    return $.contains(document.documentElement, element);\n}\n\nfunction hideBlurOverlays(e) {\n    Overlay.blurOverlays.forEach((index, item) => {\n        // 当实例为空或隐藏时，不处理\n        if (!item || !item.get('visible')) {\n            return;\n        }\n        // 遍历 _relativeElements ，当点击的元素落在这些元素上时，不处理\n        for (var i = 0; i < item._relativeElements.length; i++) {\n            var el = $(item._relativeElements[i])[0];\n            if (el === e.target || $.contains(el, e.target)) {\n                return;\n            }\n        }\n        // 到这里，判断触发了元素的 blur 事件，隐藏元素\n        item.hide();\n    });\n}\n\nvar timeout;\nvar winWidth = $(window).width();\nvar winHeight = $(window).height();\n\n$(window).resize(function() {\n    timeout && clearTimeout(timeout);\n    timeout = setTimeout(function() {\n        var winNewWidth = $(window).width();\n        var winNewHeight = $(window).height();\n\n        // IE678 莫名其妙触发 resize\n        // http://stackoverflow.com/questions/1852751/window-resize-event-firing-in-internet-explorer\n        if (winWidth !== winNewWidth || winHeight !== winNewHeight) {\n            $(Overlay.allOverlays).each(function(i, item) {\n                // 当实例为空或隐藏时，不处理\n                if (!item || !item.get('visible')) {\n                    return;\n                }\n                item._setPosition();\n            });\n        }\n\n        winWidth = winNewWidth;\n        winHeight = winNewHeight;\n    }, 80);\n});\n\nexport default Overlay;\n","/**\n * Created by zhangmike on 16/10/20.\n */\nimport Button from './widgets/button/button';\nimport Alert from './widgets/dialog/alert/alert';\nimport Confirm from './widgets/dialog/confirm/confirm';\nimport Modal from './widgets/dialog/modal/modal';\nimport Position from './widgets/position/position';\nimport Overlay from './widgets/overlay/overlay';\nexport {\n    Button, Alert, Confirm, Modal, Position, Overlay\n};\n","/**\n * Created by zhangmike on 16/10/20.\n */\n/* global $ */\nimport GMP from './jsframework/index';\nimport * as widgets from './uiframework/index';\nimport BaseClass from './uiframework/base/Class';\n\nGMP.Widgets = function () {\n\n};\nGMP.Widgets['register'] = function (name, options) {\n    if (this[name] != null) {\n        throw new Error('已存在该名称的Widgets,请改名!');\n    } else {\n        this[name] = BaseClass.inherits(options);\n    }\n};\n\nObject.assign(GMP.Widgets, widgets);\n\nlet uiInit = function() {\n    $('body').addClass('opg');\n};\n// UI初始化\nuiInit();\n\nexport default GMP;\n"],"names":["uid","initMixin","GMP","_assignPros","options","_uid","el","_eventsMapList","_initState","_initEvents","_initEls","_callHook","ObjProto","Object","prototype","isType","type","obj","toString","call","name","key","hasOwnProperty","proto","props","isObject","keys","forEach","to","from","fromAttrs","current","toVal","fromVal","defineProperty","mergeData","a","b","aStack","bStack","className","areArrays","aCtor","constructor","bCtor","isFunction","length","push","equal","has","pop","delegateEventSplitter","eventsMixin","events","$el","off","undelegateEvents","method","utils","match","delegate","bind","eventName","selector","listener","on","$","hook","handlers","cb","evn","args","cbs","fn","apply","empty","registerCallbacks","vm","_setElement","delegateEvents","initState","_initData","_data","data","that","i","val","getOwnPropertyDescriptor","property","configurable","reactiveGetter","reactiveSetter","newVal","value","util","trigger","l","els","initEventBus","registerEvent","eName","handler","scope","removeEvent","callback","fns","filter","triggerEvent","len","params","GMPEvents","GMPX","state","_init","create","protoProps","staticProps","parent","child","arguments","__super__","_t","escapeMap","createEscaper","map","escaper","source","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","templateSettings","noMatch","escapes","escapeChar","htmlTag","text","template","str","document","getElementById","innerHTML","matcher","interpolate","evaluate","index","offset","slice","render","Function","e","argument","window","jQuery","Error","pros","initEvents","gmpx","extend","BaseClass","init","_after","_create","html","element","jquery","nodeType","querySelector","attrName","oldval","setCb","Button","log","find","attr","removeAttr","preInit","config","d","defaults","Alert","_createWrapper","alertHtml","uiAlert","append","hide","appendTo","_appendTo","show","Confirm","confirmHtml","uiConfirm","tmpl","Modal","header","content","footer","dialog","uiDialog","dialogHtml","addClass","overlay","layer","remove","close","_createOverLay","_destroyOverLay","convertXYtoNum","x","isVIEWPORT","indexOf","m","numberize","s","parseFloat","Position","base","css","y","left","top","pin","width","height","Overlay","setup","uiOverlay","set","_setupResize","pos","_setPosition","allOverlays","isInDocument","align","isHidden","alignBase","arr","_relativeElements","blurOverlays","item","babelHelpers.get","contains","documentElement","hideBlurOverlays","get","target","timeout","winWidth","winHeight","resize","clearTimeout","setTimeout","winNewWidth","winNewHeight","each","Widgets","inherits","babelHelpers.extends","widgets","uiInit"],"mappings":"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"}